syntax = "proto3";

package users;

import 'common.proto';

service UsersService {
  rpc getAllUsers (AllUsersRequest) returns (AllUsersResponse);
  rpc getUser (UserRequest) returns (UserResponse);
  rpc updateUser (UpdateUserRequest) returns (UpdateUserResponse);
}

message AllUsersRequest {}
message AllUsersResponse {
  repeated common.User users = 1;
}

message UserRequest {
  oneof identifier {
    int32 id = 1;
    string email = 2;
  }
}
message UserResponse {
  common.User user = 1;
  optional common.Error error = 2;
}

message UpdateUserRequest {
  optional string email = 1;
  optional string name = 2;
  optional string role = 3;
  optional bool is_active = 4;
  optional bool emailVerified = 5;
  optional int32 pay_count = 6;
  optional int32 pbx_extension = 7;
}
message UpdateUserResponse {
  common.User user = 1;
  optional common.Error error = 2;
}
